diff -up ImageMagick6-6.9.10-86/magick/memory.c.orig ImageMagick6-6.9.10-86/magick/memory.c
--- ImageMagick6-6.9.10-86/magick/memory.c.orig	2020-01-31 14:50:18.232998034 +0100
+++ ImageMagick6-6.9.10-86/magick/memory.c	2020-01-31 14:51:34.945997958 +0100
@@ -247,7 +247,18 @@ static MagickBooleanType
 %    o quantum: the size (in bytes) of each object.
 %
 */
-#if MAGICKCORE_HAVE_STDC_ALIGNED_ALLOC
+#if defined(MAGICKCORE_HAVE_POSIX_MEMALIGN)
+#define AcquireAlignedMemory_Actual AcquireAlignedMemory_POSIX
+static inline void *AcquireAlignedMemory_POSIX(const size_t size)
+{
+  void
+    *memory;
+
+  if (posix_memalign(&memory,CACHE_LINE_SIZE,size))
+    return(NULL);
+  return(memory);
+}
+#elif MAGICKCORE_HAVE_STDC_ALIGNED_ALLOC
 #define AcquireAlignedMemory_Actual AcquireAlignedMemory_STDC
 static inline void *AcquireAlignedMemory_STDC(const size_t size)
 {
@@ -261,17 +272,6 @@ static inline void *AcquireAlignedMemory
     }
   return(aligned_alloc(CACHE_LINE_SIZE,extent));
 }
-#elif defined(MAGICKCORE_HAVE_POSIX_MEMALIGN)
-#define AcquireAlignedMemory_Actual AcquireAlignedMemory_POSIX
-static inline void *AcquireAlignedMemory_POSIX(const size_t size)
-{
-  void
-    *memory;
-
-  if (posix_memalign(&memory,CACHE_LINE_SIZE,size))
-    return(NULL);
-  return(memory);
-}
 #elif defined(MAGICKCORE_HAVE__ALIGNED_MALLOC)
 #define AcquireAlignedMemory_Actual AcquireAlignedMemory_WinAPI
 static inline void *AcquireAlignedMemory_WinAPI(const size_t size)
